<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>مخبزة وحلويات علاّف | Allaf Bakery - الطعم الأصيل الذي لا يُنسى</title>
  
  <!-- Google Fonts for a more elegant look -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;700&family=Readex+Pro:wght@300;400&display=swap" rel="stylesheet">

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    /* --- CSS Variables for easy theme management --- */
    :root {
      --primary-color: #8B4513; /* SaddleBrown - لون القهوة/الخبز */
      --secondary-color: #c89c6d; /* لون الكراميل */
      --background-color: #fffdf9; /* أبيض دافئ */
      --text-color: #4a2c0f;
      --white-color: #ffffff;
      --heading-font: 'El Messiri', sans-serif;
      --body-font: 'Readex Pro', sans-serif;
    }

    /* --- General Body Styles --- */
    body {
      font-family: var(--body-font);
      margin: 0;
      background-color: var(--background-color);
      color: var(--text-color);
    }

    /* --- Header & Navigation --- */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 5%;
      background-color: var(--white-color);
      box-shadow: 0 4px 12px rgba(139, 69, 19, 0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-container img {
      height: 55px;
    }

    .logo-container h1 {
      margin: 0;
      font-family: var(--heading-font);
      font-size: 24px;
      color: var(--primary-color);
    }

    nav ul {
      margin: 0;
      padding: 0;
      list-style: none;
      display: flex;
      gap: 25px;
    }

    nav a {
      text-decoration: none;
      color: var(--primary-color);
      font-weight: 600;
      font-size: 16px;
      transition: color 0.3s;
    }

    nav a:hover {
      color: var(--secondary-color);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .cart-button {
      background-color: var(--primary-color);
      color: var(--white-color);
      padding: 10px 20px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    .cart-button:hover {
      background-color: #6a350f;
    }

    /* --- Hero Section --- */
    .hero {
      text-align: center;
      background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1555507036-ab1f4038808a?q=80&w=2070') no-repeat center center/cover;
      color: var(--white-color);
      padding: 100px 20px;
    }

    .hero h2 {
      font-family: var(--heading-font);
      font-size: 3.5em;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .hero p {
      font-size: 1.2em;
      max-width: 600px;
      margin: 15px auto 30px;
    }

    .btn {
      background-color: var(--secondary-color);
      color: var(--white-color);
      padding: 12px 30px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s;
      border: 2px solid transparent;
    }

    .btn:hover {
      background-color: transparent;
      border-color: var(--secondary-color);
      transform: translateY(-3px);
    }

    /* --- General Section Styling --- */
    section {
      padding: 80px 5%;
    }

    section h2 {
      text-align: center;
      font-family: var(--heading-font);
      font-size: 2.8em;
      color: var(--primary-color);
      margin-bottom: 50px;
    }

    /* --- Products Section --- */
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }

    .product-card {
      background-color: var(--white-color);
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(139, 69, 19, 0.1);
      text-align: center;
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .product-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 30px rgba(139, 69, 19, 0.15);
    }

    .product-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    
    .product-card-content {
        padding: 20px;
    }

    .product-card h3 {
      font-family: var(--heading-font);
      font-size: 1.5em;
      margin: 10px 0;
    }
    
    .product-card .price {
        font-size: 1.2em;
        font-weight: bold;
        color: var(--secondary-color);
        margin-bottom: 15px;
    }

    .product-card button {
      background-color: var(--primary-color);
      color: var(--white-color);
      padding: 10px 20px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .product-card button:hover {
      background-color: #6a350f;
    }

    /* --- About Us Section --- */
    #about {
        background-color: var(--white-color);
    }
    .about-container {
        display: flex;
        align-items: center;
        gap: 50px;
        flex-wrap: wrap;
    }
    .about-text { flex: 1; min-width: 300px; }
    .about-image { flex: 1; min-width: 300px; }
    .about-image img {
        width: 100%;
        border-radius: 15px;
    }

    /* --- Footer --- */
    footer {
      background-color: #4a2c0f;
      color: #e0d6cb;
      padding: 50px 5%;
      text-align: center;
    }
    
    .footer-content p {
        margin: 5px 0;
    }
    
    .social-links a {
        color: var(--white-color);
        margin: 0 15px;
        font-size: 1.5em;
        transition: color 0.3s;
    }
    .social-links a:hover {
        color: var(--secondary-color);
    }

    /* --- Cart Popup --- */
    #cart-popup {
      display: none;
      background: var(--background-color);
      padding: 30px;
      border: 2px solid var(--primary-color);
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 500px;
      z-index: 1001;
      border-radius: 15px;
      box-shadow: 0 0 25px rgba(0,0,0,0.2);
    }
    
    #cart-popup h2 { margin-top: 0; }
    #cart-items { list-style: none; padding: 0; }
    #cart-items li { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; }
    
    .cart-actions { margin-top: 20px; display: flex; gap: 10px; justify-content: center; }
    .cart-actions button { padding: 10px 15px; border-radius: 8px; border: none; cursor: pointer; }
    .cart-actions .close-btn { background-color: #ccc; }
    .cart-actions .whatsapp-btn { background-color: #25D366; color: white; }

    /* --- Maintenance Mode --- */
    #maintenance-mode {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: #1b1b1b; color: #fff;
      display: none; /* Initially hidden */
      flex-direction: column; justify-content: center; align-items: center;
      z-index: 99999; font-family: var(--body-font); text-align: center; padding: 20px;
    }
    #maintenance-mode h1 { font-family: var(--heading-font); color: var(--secondary-color); }
  </style>
</head>
<body>

  <!-- ====================================================== -->
  <!--               صفحة وضع الصيانة (مخفية مبدئياً)             -->
  <!-- ====================================================== -->
  <div id="maintenance-mode">
    <img src="images/logo.png" alt="شعار مخبزة علاّف" style="width: 120px; height: auto; margin-bottom: 25px;" />
    <h1 style="font-size: 2.5em; margin-bottom: 10px;">🚧 الموقع قيد التطوير حاليًا</h1>
    <p style="font-size: 1.3em; max-width: 500px; line-height: 1.6;">
      نخبز الأفكار كما نخبز الخبز – بحبٍّ وتأنٍ.  
      <br>عد إلينا قريبًا لتذوق التحديثات الجديدة 🍞✨
    </p>
    <p style="margin-top: 25px; font-size: 0.9em; opacity: 0.5;">© Allaf Bakery 2025</p>
  </div>

  <!-- ====================================================== -->
  <!--                         الهيدر والناف بار                  -->
  <!-- ====================================================== -->
  <header>
    <div class="logo-container">
      <img src="images/logo.png" alt="شعار المخبزة" />
      <h1>مخبزة علاّف</h1>
    </div>
    <nav>
      <ul>
        <li><a href="#hero">الرئيسية</a></li>
        <li><a href="#products">منتجاتنا</a></li>
        <li><a href="#about">قصتنا</a></li>
        <li><a href="#contact">تواصل معنا</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <a href="#" onclick="showCart()" class="cart-button">
        <i class="fas fa-shopping-basket"></i> السلة (<span id="cart-count">0</span>)
      </a>
    </div>
  </header>

  <!-- ====================================================== -->
  <!--                         قسم الهيرو (الواجهة)               -->
  <!-- ====================================================== -->
  <section id="hero" class="hero">
    <h2>الطعم الأصيل الذي لا يُنسى</h2>
    <p>نخبز لكم يوميًا تشكيلة من أشهى المخبوزات والحلويات المصنوعة بحب وشغف من أجود المكونات الطبيعية.</p>
    <a href="#products" class="btn">اكتشف قائمة منتجاتنا</a>
  </section>

  <!-- ====================================================== -->
  <!--                         قسم المنتجات                      -->
  <!-- ====================================================== -->
  <section id="products">
    <h2><i class="fas fa-bread-slice"></i> منتجاتنا المميزة</h2>
    <div class="product-list">
      <!-- Product 1 -->
      <div class="product-card">
        <img src="images/croissant.jpg" alt="كرواسون بالزبدة الفرنسية" />
        <div class="product-card-content">
          <h3>كرواسون بالزبدة</h3>
          <p class="price">2 دراهم</p>
          <button onclick="addToCart('كرواسون بالزبدة', 2)"><i class="fas fa-cart-plus"></i> أضف إلى السلة</button>
        </div>
      </div>
      <!-- Product 2 -->
      <div class="product-card">
        <img src="images/msemen.jpg" alt="مسمن بلدي معسل" />
        <div class="product-card-content">
          <h3>مسمن بلدي معسل</h3>
          <p class="price">3.5 دراهم</p>
          <button onclick="addToCart('مسمن بلدي معسل', 3.5)"><i class="fas fa-cart-plus"></i> أضف إلى السلة</button>
        </div>
      </div>
      <!-- Product 3 -->
      <div class="product-card">
        <img src="images/cake.jpg" alt="كيكة الشوكولاتة الغنية" />
        <div class="product-card-content">
          <h3>كيكة الشوكولاتة</h3>
          <p class="price">40 درهم</p>
          <button onclick="addToCart('كيكة الشوكولاتة', 40)"><i class="fas fa-cart-plus"></i> أضف إلى السلة</button>
        </div>
      </div>
      <!-- Add more products here -->
    </div>
  </section>

  <!-- ====================================================== -->
  <!--                         قسم قصتنا (من نحن)                -->
  <!-- ====================================================== -->
  <section id="about">
    <h2><i class="fas fa-book-open"></i> قصتنا</h2>
    <div class="about-container">
        <div class="about-text">
            <p>في مخبزة علاّف، بدأت حكايتنا عام 2024 بشغف لصنع مخبوزات تجمع بين الأصالة المغربية وأفضل تقنيات الخبز الحديثة. نحن نؤمن بأن المكونات الطازجة والحب هما سر كل قطعة لذيذة تخرج من فرننا. من المسمن البلدي إلى الكرواسون الفرنسي، كل منتج هو دعوة لتذوق السعادة.</p>
            <a href="#contact" class="btn">تحدث مع الخباز</a>
        </div>
        <div class="about-image">
            <img src="https://images.unsplash.com/photo-1568254183919-78a4f43a2b77?q=80&w=1974" alt="صورة داخل المخبزة">
        </div>
    </div>
  </section>

  <!-- ====================================================== -->
  <!--                         قسم التواصل                      -->
  <!-- ====================================================== -->
  <section id="contact" style="background-color: var(--white-color);">
    <h2><i class="fas fa-map-marker-alt"></i> زورونا أو تواصلوا معنا</h2>
    <p style="text-align: center;">نحن بانتظاركم في موقعنا، أو يمكنكم إرسال طلباتكم واستفساراتكم مباشرة عبر واتساب.</p>
    <div style="text-align: center; margin-top: 30px;">
        <a href="https://maps.app.goo.gl/3QSaUA5nJiPQDRHZ9" target="_blank" class="btn" style="margin: 5px;">📍 موقعنا على الخريطة</a>
        <a href="https://wa.me/212681848262" target="_blank" class="btn" style="margin: 5px; background-color: #25D366;">💬 الطلب عبر واتساب</a>
    </div>
  </section>

  <!-- ====================================================== -->
  <!--                         الفوتر (تذييل الصفحة)              -->
  <!-- ====================================================== -->
  <footer>
    <div class="footer-content">
        <div class="social-links">
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
        </div>
        <p>جميع الحقوق محفوظة © 2025 | مخبزة وحلويات علاّف</p>
        <p>👁️ عدد زوار الموقع: <span id="visitor-count">0</span></p>
    </div>
  </footer>

  <!-- ====================================================== -->
  <!--                         نافذة السلة المنبثقة               -->
  <!-- ====================================================== -->
  <div id="cart-popup">
    <h2><i class="fas fa-shopping-basket"></i> محتويات سلة التسوق</h2>
    <ul id="cart-items"></ul>
    <p><strong>المجموع: <span id="cart-total">0.00</span> درهم</strong></p>
    <div class="cart-actions">
        <button onclick="closeCart()" class="close-btn">❌ إغلاق</button>
        <button onclick="generateWhatsAppInvoice()" class="whatsapp-btn"><i class="fab fa-whatsapp"></i> إرسال الطلب عبر واتساب</button>
    </div>
  </div>

  <!-- ====================================================== -->
  <!--                         كود الجافاسكريبت                  -->
  <!-- ====================================================== -->
  <script>
    // --- Maintenance Mode Control ---
    // لتفعيل وضع الصيانة، غير القيمة إلى true
    const MAINTENANCE_ENABLED = false; 
    if (MAINTENANCE_ENABLED) {
      document.getElementById('maintenance-mode').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    // --- Cart Logic ---
    let cart = [];
    let total = 0;

    function addToCart(productName, price) {
      cart.push({ name: productName, price: price });
      total += price;
      updateCartDisplay();
      showCart(); // فتح السلة تلقائياً عند إضافة منتج
    }

    function updateCartDisplay() {
      const cartCount = document.getElementById('cart-count');
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');

      cartCount.innerText = cart.length;
      cartTotal.innerText = total.toFixed(2);

      cartItems.innerHTML = '';
      if (cart.length === 0) {
          cartItems.innerHTML = '<li>السلة فارغة حاليًا.</li>';
      } else {
          cart.forEach(item => {
            const li = document.createElement('li');
            li.innerText = `${item.name} - ${item.price.toFixed(2)} درهم`;
            cartItems.appendChild(li);
          });
      }
    }

    function showCart() {
      document.getElementById('cart-popup').style.display = 'block';
    }

    function closeCart() {
      document.getElementById('cart-popup').style.display = 'none';
    }

    function generateWhatsAppInvoice() {
      if (cart.length === 0) {
        alert("الرجاء إضافة منتجات إلى السلة أولاً!");
        return;
      }

      let invoice = "مرحباً مخبزة علاّف، أود طلب المنتجات التالية:\n\n";
      cart.forEach(item => {
        invoice += `- ${item.name} (${item.price.toFixed(2)} درهم)\n`;
      });
      invoice += `\n*المجموع الإجمالي: ${total.toFixed(2)} درهم*`;

      const whatsappNumber = "212681848262";
      const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(invoice)}`;
      
      window.open(whatsappURL, '_blank');
    }

    // --- Visitor Counter ---
    document.addEventListener('DOMContentLoaded', function() {
      const countDisplay = document.getElementById('visitor-count');
      let visitorCount = localStorage.getItem('visitorCount_allafBakery');

      if (visitorCount === null) {
        visitorCount = 1;
      } else {
        visitorCount = parseInt(visitorCount) + 1;
      }
      
      localStorage.setItem('visitorCount_allafBakery', visitorCount);
      countDisplay.innerText = visitorCount;
      
      // Initialize cart display on page load
      updateCartDisplay();
    });
  </script>

</body>
</html>
